{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Brian\\\\Projects\\\\SoundWaves\\\\sound-waves\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Brian\\\\Projects\\\\SoundWaves\\\\sound-waves\\\\client\\\\src\\\\hoc\\\\withTracker.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from 'react';\nimport ReactGA from 'react-ga';\nimport { analyticsId } from '../config';\nReactGA.initialize(analyticsId, {\n  testMode: process.env.NODE_ENV === 'test',\n  debug: false\n});\n\nvar withTracker = function withTracker(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var trackPage = function trackPage(page) {\n    ReactGA.set(_objectSpread({\n      page: page\n    }, options));\n    ReactGA.pageview(page);\n  };\n\n  var HOC = function HOC(props) {\n    useEffect(function () {\n      trackPage(props.location.pathname);\n    }, [props.location.pathname]);\n    return React.createElement(WrappedComponent, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }));\n  };\n\n  return HOC;\n};\n\nexport default withTracker;","map":{"version":3,"sources":["C:/Users/Brian/Projects/SoundWaves/sound-waves/client/src/hoc/withTracker.tsx"],"names":["React","useEffect","ReactGA","analyticsId","initialize","testMode","process","env","NODE_ENV","debug","withTracker","WrappedComponent","options","trackPage","page","set","pageview","HOC","props","location","pathname"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAsC,UAAtC;AAEA,SAASC,WAAT,QAA4B,WAA5B;AAEAD,OAAO,CAACE,UAAR,CAAmBD,WAAnB,EAAgC;AAC5BE,EAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MADP;AAE5BC,EAAAA,KAAK,EAAE;AAFqB,CAAhC;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAChBC,gBADgB,EAGf;AAAA,MADDC,OACC,uEADuB,EACvB;;AACD,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAkB;AAChCZ,IAAAA,OAAO,CAACa,GAAR;AAAcD,MAAAA,IAAI,EAAJA;AAAd,OAAuBF,OAAvB;AACAV,IAAAA,OAAO,CAACc,QAAR,CAAiBF,IAAjB;AACH,GAHD;;AAKA,MAAMG,GAAG,GAAG,SAANA,GAAM,CAACC,KAAD,EAAc;AACtBjB,IAAAA,SAAS,CAAC,YAAM;AACZY,MAAAA,SAAS,CAACK,KAAK,CAACC,QAAN,CAAeC,QAAhB,CAAT;AACH,KAFQ,EAEN,CAACF,KAAK,CAACC,QAAN,CAAeC,QAAhB,CAFM,CAAT;AAIA,WAAO,oBAAC,gBAAD,oBAAsBF,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACH,GAND;;AAQA,SAAOD,GAAP;AACH,CAlBD;;AAoBA,eAAeP,WAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport ReactGA, { FieldsObject } from 'react-ga'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport { analyticsId } from '../config'\r\n\r\nReactGA.initialize(analyticsId, {\r\n    testMode: process.env.NODE_ENV === 'test',\r\n    debug: false\r\n})\r\n\r\nconst withTracker = <P extends RouteComponentProps>(\r\n    WrappedComponent: any,\r\n    options: FieldsObject = {}\r\n) => {\r\n    const trackPage = (page: string) => {\r\n        ReactGA.set({ page, ...options })\r\n        ReactGA.pageview(page)\r\n    }\r\n\r\n    const HOC = (props: P) => {\r\n        useEffect(() => {\r\n            trackPage(props.location.pathname)\r\n        }, [props.location.pathname])\r\n\r\n        return <WrappedComponent {...props} />\r\n    }\r\n\r\n    return HOC\r\n}\r\n\r\nexport default withTracker\r\n"]},"metadata":{},"sourceType":"module"}